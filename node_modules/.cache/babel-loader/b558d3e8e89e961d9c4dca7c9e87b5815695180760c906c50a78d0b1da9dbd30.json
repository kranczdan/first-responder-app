{"ast":null,"code":"import React,{useEffect,useRef}from'react';import{Typography}from'@mui/material';import{MapContainer,TileLayer,Marker,Popup}from'react-leaflet';import L from'leaflet';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SelectedEmergency=_ref=>{let{emergency,selectedUser,onBackToList,onDeleteEmergency,onRegisterAsHelper,userLocation}=_ref;const mapRef=useRef(null);useEffect(()=>{if(mapRef.current){mapRef.current.eachLayer(layer=>{if(layer instanceof L.Marker){mapRef.current.removeLayer(layer);}});if(emergency){const emergencyMarker=L.marker([emergency.eventLat,emergency.eventLong]).addTo(mapRef.current);const userMarker=L.marker([userLocation.latitude,userLocation.longitude]).addTo(mapRef.current);const bounds=L.latLngBounds([emergencyMarker.getLatLng(),userMarker.getLatLng()]);mapRef.current.fitBounds(bounds,{padding:[50,50]});}else if(userLocation.latitude&&userLocation.longitude){L.marker([userLocation.latitude,userLocation.longitude]).addTo(mapRef.current);mapRef.current.setView([userLocation.latitude,userLocation.longitude],13);}}},[emergency,userLocation]);return/*#__PURE__*/_jsxs(\"div\",{children:[emergency?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Aktueller Notruf\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"Latitude: \",emergency.eventLat]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Longitude: \",emergency.eventLong]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Notruftyp: \",emergency.title]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Beschreibung: \",emergency.description]}),/*#__PURE__*/_jsxs(Typography,{children:[\"Opfer: \",emergency.victimName]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"br\",{})})]}):/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Kein Notruf ausgew\\xE4hlt. Dein Standort:\"}),/*#__PURE__*/_jsxs(MapContainer,{ref:mapRef,center:userLocation.latitude&&userLocation.longitude?[userLocation.latitude,userLocation.longitude]:[0,0],zoom:13,style:{height:'300px',width:'100%'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"}),emergency&&/*#__PURE__*/_jsx(Marker,{position:[emergency.eventLat,emergency.eventLong],children:/*#__PURE__*/_jsxs(Popup,{children:[\"Aktueller Notruf \",/*#__PURE__*/_jsx(\"br\",{}),\" \",emergency.title]})}),userLocation.latitude&&userLocation.longitude&&/*#__PURE__*/_jsx(Marker,{position:[userLocation.latitude,userLocation.longitude],children:/*#__PURE__*/_jsx(Popup,{children:\"Dein Standort\"})})]})]});};export default SelectedEmergency;","map":{"version":3,"names":["React","useEffect","useRef","Typography","MapContainer","TileLayer","Marker","Popup","L","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SelectedEmergency","_ref","emergency","selectedUser","onBackToList","onDeleteEmergency","onRegisterAsHelper","userLocation","mapRef","current","eachLayer","layer","removeLayer","emergencyMarker","marker","eventLat","eventLong","addTo","userMarker","latitude","longitude","bounds","latLngBounds","getLatLng","fitBounds","padding","setView","children","variant","title","description","victimName","ref","center","zoom","style","height","width","url","attribution","position"],"sources":["/Users/danielkrancz/Documents/GitHub/first-responder-app/client/src/components/SelectedEmergency.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Typography } from '@mui/material';\nimport { MapContainer, TileLayer, Marker, Popup } from 'react-leaflet';\nimport L from 'leaflet';\n\nconst SelectedEmergency = ({ emergency, selectedUser, onBackToList, onDeleteEmergency, onRegisterAsHelper, userLocation }) => {\n  const mapRef = useRef(null);\n\n  useEffect(() => {\n    if (mapRef.current) {\n      mapRef.current.eachLayer((layer) => {\n        if (layer instanceof L.Marker) {\n          mapRef.current.removeLayer(layer);\n        }\n      });\n\n      if (emergency) {\n        const emergencyMarker = L.marker([emergency.eventLat, emergency.eventLong]).addTo(mapRef.current);\n        const userMarker = L.marker([userLocation.latitude, userLocation.longitude]).addTo(mapRef.current);\n        const bounds = L.latLngBounds([emergencyMarker.getLatLng(), userMarker.getLatLng()]);\n        mapRef.current.fitBounds(bounds, { padding: [50, 50] });\n      } else if (userLocation.latitude && userLocation.longitude) {\n        L.marker([userLocation.latitude, userLocation.longitude]).addTo(mapRef.current);\n        mapRef.current.setView([userLocation.latitude, userLocation.longitude], 13);\n      }\n    }\n  }, [emergency, userLocation]);\n\n  return (\n    <div>\n      {emergency ? (\n        <>\n          <Typography variant=\"h6\">Aktueller Notruf</Typography>\n          <Typography>Latitude: {emergency.eventLat}</Typography>\n          <Typography>Longitude: {emergency.eventLong}</Typography>\n          <Typography>Notruftyp: {emergency.title}</Typography>\n          <Typography>Beschreibung: {emergency.description}</Typography>\n          <Typography>Opfer: {emergency.victimName}</Typography>\n          <div><br></br></div>\n        </>\n      ) : (\n        <Typography variant=\"h6\">Kein Notruf ausgew√§hlt. Dein Standort:</Typography>\n      )}\n      <MapContainer\n        ref={mapRef}\n        center={userLocation.latitude && userLocation.longitude ? [userLocation.latitude, userLocation.longitude] : [0, 0]}\n        zoom={13}\n        style={{ height: '300px', width: '100%' }}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        {emergency && (\n          <Marker position={[emergency.eventLat, emergency.eventLong]}>\n            <Popup>Aktueller Notruf <br /> {emergency.title}</Popup>\n          </Marker>\n        )}\n        {userLocation.latitude && userLocation.longitude && (\n          <Marker position={[userLocation.latitude, userLocation.longitude]}>\n            <Popup>Dein Standort</Popup>\n          </Marker>\n        )}\n      </MapContainer>\n    </div>\n  );\n};\n\nexport default SelectedEmergency;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}